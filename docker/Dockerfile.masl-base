# base image
FROM levistarrett/masl-dev AS base-stage

WORKDIR /working/core-cpp
COPY core-cpp .
RUN conan create . --build=missing && conan cache clean "*"

WORKDIR /working/core-java
COPY core-java .
RUN conan create . --build=missing && conan cache clean "*"

WORKDIR /working/inspector
COPY inspector .
RUN conan create . --build=missing && conan cache clean "*"

WORKDIR /working/utils
COPY utils .
RUN conan create . --build=missing && conan cache clean "*"

# create workspace
WORKDIR /work
